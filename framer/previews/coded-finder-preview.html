<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CODED Program Finder</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=Syne:wght@600;700;800&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #06101E;
    font-family: 'DM Sans', sans-serif;
    padding: 24px;
  }

  @keyframes sparkFloat {
    0%   { transform: translateY(0px) rotate(0deg) scale(1); }
    25%  { transform: translateY(-8px) rotate(12deg) scale(1.15); }
    50%  { transform: translateY(-3px) rotate(-6deg) scale(0.9); }
    75%  { transform: translateY(-11px) rotate(8deg) scale(1.08); }
    100% { transform: translateY(0px) rotate(0deg) scale(1); }
  }

  @keyframes fadeSlide {
    from { opacity: 0; transform: translateY(14px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes stepIn {
    from { opacity: 0; transform: translateX(20px); }
    to   { opacity: 1; transform: translateX(0); }
  }

  .card {
    position: relative;
    width: 100%;
    max-width: 460px;
    background: linear-gradient(145deg, #0A1628 0%, #0D1F3C 55%, #0B2144 100%);
    border-radius: 24px;
    padding: 32px 28px;
    box-shadow: 0 40px 80px rgba(0,0,0,0.55), 0 0 0 1px rgba(79,195,247,0.1);
    overflow: hidden;
    min-height: 420px;
  }

  .card::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 24px;
    background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
    opacity: 0.03;
    pointer-events: none;
  }

  /* Sparks */
  .sparks-layer {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }
  .spark {
    position: absolute;
    color: #4FC3F7;
    animation: sparkFloat linear infinite;
  }
  .spark svg { display: block; }

  /* Header */
  .badge {
    display: flex;
    align-items: center;
    gap: 7px;
    margin-bottom: 7px;
  }
  .badge-text {
    font-size: 10.5px;
    font-weight: 600;
    color: #4FC3F7;
    letter-spacing: 0.12em;
    text-transform: uppercase;
  }
  .title {
    font-family: 'Syne', sans-serif;
    font-weight: 700;
    font-size: 22px;
    color: white;
    line-height: 1.25;
    margin-bottom: 22px;
  }

  /* Progress */
  .progress {
    display: flex;
    gap: 5px;
    margin-bottom: 24px;
  }
  .prog-dot {
    height: 3px;
    flex: 1;
    border-radius: 99px;
    background: rgba(255,255,255,0.1);
    transition: background 0.35s ease;
  }
  .prog-dot.done { background: #4FC3F7; }

  /* Steps wrapper */
  .step { animation: stepIn 0.38s cubic-bezier(.22,1,.36,1) forwards; }

  .step-label {
    font-size: 14px;
    color: rgba(255,255,255,0.7);
    margin-bottom: 5px;
    line-height: 1.45;
  }
  .step-sub {
    font-size: 12px;
    color: rgba(255,255,255,0.3);
    margin-bottom: 10px;
  }

  /* Chips */
  .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
  .chip {
    padding: 7px 15px;
    border-radius: 100px;
    border: 1.5px solid rgba(255,255,255,0.16);
    background: rgba(255,255,255,0.04);
    color: rgba(255,255,255,0.7);
    font-size: 13px;
    font-family: 'DM Sans', sans-serif;
    cursor: pointer;
    transition: all 0.17s ease;
    outline: none;
    white-space: nowrap;
    backdrop-filter: blur(4px);
  }
  .chip:hover { border-color: rgba(79,195,247,0.5); color: rgba(255,255,255,0.9); }
  .chip.selected {
    border-color: #4FC3F7;
    background: rgba(79,195,247,0.15);
    color: #4FC3F7;
  }

  /* Input */
  .text-input {
    width: 100%;
    background: rgba(255,255,255,0.06);
    border: 1.5px solid rgba(255,255,255,0.14);
    border-radius: 12px;
    color: white;
    font-size: 15px;
    font-family: 'DM Sans', sans-serif;
    padding: 12px 16px;
    outline: none;
    transition: border-color 0.2s;
    display: block;
  }
  .text-input:focus { border-color: #4FC3F7; }
  .text-input::placeholder { color: rgba(255,255,255,0.25); }

  /* Buttons */
  .btn-primary {
    background: #4FC3F7;
    color: #0A1628;
    border: none;
    border-radius: 100px;
    padding: 10px 22px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 600;
    font-size: 13.5px;
    cursor: pointer;
    transition: background 0.2s, transform 0.15s;
    margin-top: 14px;
    display: inline-block;
  }
  .btn-primary:hover { background: #81D4FA; transform: translateY(-1px); }
  .btn-primary:disabled { opacity: 0.35; cursor: default; transform: none; }

  .btn-ghost {
    background: transparent;
    border: none;
    color: rgba(255,255,255,0.35);
    font-size: 13px;
    font-family: 'DM Sans', sans-serif;
    cursor: pointer;
    padding: 10px 6px;
    margin-left: 8px;
    margin-top: 14px;
  }
  .btn-ghost:hover { color: rgba(255,255,255,0.6); }

  .btn-outline {
    background: transparent;
    border: 1px solid rgba(255,255,255,0.14);
    color: rgba(255,255,255,0.45);
    border-radius: 100px;
    padding: 10px 18px;
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    cursor: pointer;
    transition: border-color 0.2s;
    margin-top: 14px;
  }
  .btn-outline:hover { border-color: rgba(255,255,255,0.3); }

  /* Result cards */
  .result-card {
    background: rgba(79,195,247,0.07);
    border: 1px solid rgba(79,195,247,0.2);
    border-radius: 14px;
    padding: 16px 18px;
    margin-bottom: 10px;
    animation: fadeSlide 0.45s ease forwards;
    opacity: 0;
  }
  .result-name {
    font-family: 'Syne', sans-serif;
    font-weight: 700;
    font-size: 16px;
    color: white;
    margin-bottom: 4px;
  }
  .result-desc { font-size: 13px; color: rgba(255,255,255,0.5); line-height: 1.5; }
  .badge-best {
    background: rgba(79,195,247,0.18);
    color: #4FC3F7;
    border-radius: 100px;
    padding: 3px 10px;
    font-size: 11px;
    font-weight: 600;
    white-space: nowrap;
  }
  .tag {
    background: rgba(255,255,255,0.06);
    color: rgba(255,255,255,0.45);
    border-radius: 100px;
    padding: 2px 10px;
    font-size: 11px;
    display: inline-block;
    margin: 3px 3px 0 0;
  }
  .result-card:nth-child(2) { animation-delay: 0.12s; }

  .btn-cta-link {
    display: inline-block;
    background: #4FC3F7;
    color: #0A1628;
    border-radius: 100px;
    padding: 10px 22px;
    font-weight: 600;
    font-size: 13px;
    text-decoration: none;
    font-family: 'DM Sans', sans-serif;
    margin-top: 14px;
    margin-right: 8px;
    transition: background 0.2s;
  }
  .btn-cta-link:hover { background: #81D4FA; }

  .result-header {
    display: flex;
    align-items: center;
    gap: 7px;
    margin-bottom: 14px;
    font-size: 13px;
    font-weight: 600;
    color: #4FC3F7;
  }

  /* Iterartion reveal */
  .iter-section { margin-top: 14px; animation: fadeSlide 0.3s ease; }
  .iter-label { font-size: 13px; color: rgba(255,255,255,0.5); margin-bottom: 8px; }
</style>
</head>
<body>

<div class="card" id="card">
  <!-- Sparks -->
  <div class="sparks-layer" id="sparksLayer"></div>

  <!-- Header -->
  <div class="badge">
    <svg width="13" height="13" viewBox="0 0 16 16" fill="#4FC3F7"><path d="M8 0L9.2 6.8L16 8L9.2 9.2L8 16L6.8 9.2L0 8L6.8 6.8L8 0Z"/></svg>
    <span class="badge-text">CODED Â· Program Finder</span>
  </div>
  <h2 class="title">Find your perfect<br>training program</h2>

  <!-- Progress -->
  <div class="progress" id="progress"></div>

  <!-- Step Content -->
  <div id="stepContent"></div>
</div>

<script>
const TOTAL_STEPS = 6;
let state = {
  step: 0,
  topic: '',
  audience: [],
  duration: null,
  employees: null,
  iterations: null,
  location: null,
  company: '',
};

const COURSES = [
  { id: "AI-CHAMP",  name: "AI Champions Program",        duration: "1 day",     audience: ["Executives", "Mixed Levels"], size: "< 8 people",   desc: "Half-day AI literacy sprint for leadership teams." },
  { id: "AI-BOOT",   name: "AI App Developer Bootcamp",   duration: "> 5 weeks", audience: ["Technical Teams", "Fresh Graduates"], size: "12 â€“ 15 people", desc: "Full immersive vibe-coding program using Lovable & AI tools." },
  { id: "FULLSTACK", name: "Full-Stack Bootcamp",          duration: "> 5 weeks", audience: ["Fresh Graduates", "Technical Teams"], size: "12 â€“ 15 people", desc: "End-to-end web development mastery." },
  { id: "DATA",      name: "Data Analytics Sprint",        duration: "< 3 weeks", audience: ["Technical Teams", "Executives"], size: "< 8 people",    desc: "Practical data storytelling, SQL & dashboards." },
  { id: "PM",        name: "Product Management Intensive", duration: "< 3 weeks", audience: ["Executives", "Mixed Levels"], size: "12 â€“ 15 people", desc: "Build & pitch products like a PM." },
  { id: "CORP",      name: "Corporate AI Transformation",  duration: "< 3 days",  audience: ["Executives", "Mixed Levels"], size: "> 25 people",   desc: "Large-scale AI upskilling for enterprise teams." },
];

function recommend() {
  let scored = COURSES.map(c => {
    let score = 0;
    if (state.audience.some(a => c.audience.includes(a))) score += 3;
    if (c.duration === state.duration) score += 2;
    if (c.size === state.employees) score += 1;
    if (state.topic && c.name.toLowerCase().includes(state.topic.toLowerCase().split(' ')[0])) score += 2;
    return { ...c, score };
  });
  scored.sort((a, b) => b.score - a.score);
  return scored.slice(0, 2);
}

// â”€â”€ Sparks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderSparks() {
  const sparks = [
    { size: 13, top: "8%",  left: "6%",  delay: "0s",   dur: "3.2s", op: 0.9 },
    { size: 8,  top: "14%", left: "88%", delay: "0.6s", dur: "2.8s", op: 0.55 },
    { size: 20, top: "70%", left: "91%", delay: "1.1s", dur: "3.6s", op: 0.8 },
    { size: 10, top: "80%", left: "4%",  delay: "1.8s", dur: "2.6s", op: 0.5 },
    { size: 6,  top: "44%", left: "95%", delay: "0.3s", dur: "4s",   op: 0.4 },
    { size: 15, top: "55%", left: "2%",  delay: "2.1s", dur: "3s",   op: 0.65 },
    { size: 7,  top: "28%", left: "93%", delay: "0.9s", dur: "3.4s", op: 0.5 },
    { size: 9,  top: "88%", left: "48%", delay: "1.5s", dur: "2.9s", op: 0.6 },
    { size: 5,  top: "5%",  left: "50%", delay: "2.4s", dur: "3.8s", op: 0.4 },
  ];
  const layer = document.getElementById('sparksLayer');
  layer.innerHTML = sparks.map(s => `
    <div class="spark" style="top:${s.top};left:${s.left};width:${s.size}px;height:${s.size}px;opacity:${s.op};animation-duration:${s.dur};animation-delay:${s.delay};">
      <svg viewBox="0 0 16 16" width="${s.size}" height="${s.size}" fill="currentColor"><path d="M8 0L9.2 6.8L16 8L9.2 9.2L8 16L6.8 9.2L0 8L6.8 6.8L8 0Z"/></svg>
    </div>
  `).join('');
}

// â”€â”€ Progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderProgress() {
  const el = document.getElementById('progress');
  if (state.step >= TOTAL_STEPS) { el.style.display = 'none'; return; }
  el.style.display = 'flex';
  el.innerHTML = Array.from({ length: TOTAL_STEPS }, (_, i) =>
    `<div class="prog-dot ${i <= state.step ? 'done' : ''}"></div>`
  ).join('');
}

// â”€â”€ Chips helper â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function chipsHTML(id, options, selected, multi = false) {
  return `<div class="chips" id="chips-${id}">
    ${options.map(opt => `
      <button class="chip ${(multi ? selected.includes(opt) : selected === opt) ? 'selected' : ''}"
        onclick="toggleChip('${id}', '${opt}', ${multi})">
        ${opt}
      </button>`).join('')}
  </div>`;
}

function toggleChip(id, opt, multi) {
  if (id === 'audience') {
    if (state.audience.includes(opt)) {
      state.audience = state.audience.filter(v => v !== opt);
    } else {
      state.audience.push(opt);
    }
    document.querySelectorAll(`#chips-${id} .chip`).forEach(btn => {
      btn.classList.toggle('selected', state.audience.includes(btn.textContent.trim()));
    });
    document.getElementById('aud-btn').disabled = state.audience.length === 0;
    return;
  }
  if (id === 'duration') {
    state.duration = opt;
    setTimeout(() => advance(), 120);
    return;
  }
  if (id === 'employees') {
    state.employees = opt;
    if (opt !== '> 25 people') {
      setTimeout(() => advance(), 120);
    } else {
      document.querySelectorAll(`#chips-employees .chip`).forEach(btn => {
        btn.classList.toggle('selected', btn.textContent.trim() === opt);
      });
      document.getElementById('iter-section').style.display = 'block';
    }
    return;
  }
  if (id === 'iterations') {
    state.iterations = opt;
    setTimeout(() => advance(), 120);
    return;
  }
  if (id === 'location') {
    state.location = opt;
    setTimeout(() => advance(), 120);
    return;
  }
}

// â”€â”€ Steps â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getStepHTML() {
  switch (state.step) {
    case 0:
      return `<div class="step">
        <p class="step-label">What do you want your team to learn?
          <span style="color:rgba(255,255,255,0.3);font-size:12px;"> (press Enter â†µ)</span></p>
        <input class="text-input" id="topic-input" type="text" placeholder="e.g. AI tools, data analytics, web dev..." 
          autocomplete="off" value="${state.topic}"
          oninput="state.topic=this.value"
          onkeydown="if(event.key==='Enter') advance()">
        <br>
        <button class="btn-primary" onclick="advance()">Explore programs â†’</button>
      </div>`;

    case 1:
      return `<div class="step">
        <p class="step-label">Who's this training for?</p>
        <p class="step-sub">Pick all that apply</p>
        ${chipsHTML('audience', ['Fresh Graduates', 'Technical Teams', 'Executives', 'Mixed Levels'], state.audience, true)}
        <button id="aud-btn" class="btn-primary" onclick="advance()" ${state.audience.length === 0 ? 'disabled' : ''}>Continue â†’</button>
      </div>`;

    case 2:
      return `<div class="step">
        <p class="step-label">How long can your team commit to training?</p>
        ${chipsHTML('duration', ['1 day', '< 3 days', '< 3 weeks', '> 5 weeks'], state.duration)}
      </div>`;

    case 3:
      return `<div class="step">
        <p class="step-label">How many people will be enrolling?</p>
        ${chipsHTML('employees', ['< 8 people', '12 â€“ 15 people', '> 25 people'], state.employees)}
        <div id="iter-section" class="iter-section" style="display:${state.employees === '> 25 people' ? 'block' : 'none'}">
          <p class="iter-label">Will this run across multiple cohorts?</p>
          ${chipsHTML('iterations', ['Single cohort', 'Multiple iterations'], state.iterations)}
        </div>
      </div>`;

    case 4:
      return `<div class="step">
        <p class="step-label">Where should the training take place?</p>
        ${chipsHTML('location', ['At CODED HQ', 'At our office', 'Flexible / Online'], state.location)}
      </div>`;

    case 5:
      const firstName = state.company ? state.company.split(' ')[0] : null;
      return `<div class="step">
        <p class="step-label">Last one â€” who should we address the recommendation to?</p>
        <p class="step-sub">Company name optional â€” a first name works perfectly too.</p>
        <input class="text-input" id="company-input" type="text" 
          placeholder="e.g. KFH, Ministry of Finance, or just your name ðŸ‘‹"
          autocomplete="off" value="${state.company}"
          oninput="state.company=this.value"
          onkeydown="if(event.key==='Enter') advance()">
        <button class="btn-primary" onclick="advance()">See my recommendations â†’</button>
        <button class="btn-ghost" onclick="advance()">Skip</button>
      </div>`;

    case 6:
      const recs = recommend();
      const name = state.company ? state.company.trim().split(' ')[0] : null;
      return `<div class="step">
        <div class="result-header">
          <svg width="13" height="13" viewBox="0 0 16 16" fill="#4FC3F7"><path d="M8 0L9.2 6.8L16 8L9.2 9.2L8 16L6.8 9.2L0 8L6.8 6.8L8 0Z"/></svg>
          ${name ? `Here's what we'd recommend for ${name}` : 'Your top program picks'}
        </div>
        ${recs.map((r, i) => `
          <div class="result-card" style="animation-delay:${i * 0.12}s">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:10px">
              <div>
                <p class="result-name">${r.name}</p>
                <p class="result-desc">${r.desc}</p>
              </div>
              ${i === 0 ? '<span class="badge-best">Best Match</span>' : ''}
            </div>
            <div style="margin-top:10px">
              ${[r.duration, r.size, r.audience[0]].map(t => `<span class="tag">${t}</span>`).join('')}
            </div>
          </div>`).join('')}
        <div style="display:flex;align-items:center;flex-wrap:wrap;gap:4px;margin-top:4px">
          <a href="mailto:pro@coded.com" class="btn-cta-link">Book a consultation</a>
          <button class="btn-outline" onclick="restart()">Start over</button>
        </div>
      </div>`;
  }
}

function advance() {
  state.step = Math.min(state.step + 1, TOTAL_STEPS);
  render();
  // Auto focus on text inputs
  setTimeout(() => {
    const inp = document.getElementById('topic-input') || document.getElementById('company-input');
    if (inp) inp.focus();
  }, 100);
}

function restart() {
  state = { step: 0, topic: '', audience: [], duration: null, employees: null, iterations: null, location: null, company: '' };
  render();
}

function render() {
  renderProgress();
  const el = document.getElementById('stepContent');
  el.innerHTML = getStepHTML();
}

// Init
renderSparks();
render();
</script>
</body>
</html>
